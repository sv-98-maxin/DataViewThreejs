<template>
	<div ref="container" class="flex-1 border border-red-500"></div>
</template>

<script setup lang="ts">
import * as echarts from "echarts";
import { onMounted, ref, computed, watch } from "vue";
import { useStore } from "../store";

const store = useStore();
const name = computed(() => store.areaName);
const container = ref<HTMLDivElement>();
// const housePriceData = ref<[]>([]);

watch(name, () => {
	initChart();
});
async function getData() {}
function initChart() {
	const chart = echarts.init(container.value);
	const option = {
		title: {
			text: name.value + "xxx数据",
			left: "center",
			top: 0,
		},
		grid: {
			top: "15%",
			left: "13%",
			right: "20%",
			bottom: "12%",
		},
		visualMap: {
			min: 15202,
			max: 159980,
			dimension: 1,
			orient: "vertical",
			right: 10,
			top: "center",
			text: ["HIGH", "LOW"],
			calculable: true,
			inRange: {
				color: ["#f2c31a", "#24b7f2"],
			},
		},
		tooltip: {
			trigger: "item",
			axisPointer: {
				type: "cross",
			},
		},
		xAxis: [
			{
				type: "value",
			},
		],
		yAxis: [
			{
				type: "value",
			},
		],
		series: [
			{
				name: "price-area",
				type: "scatter",
				symbolSize: 5,
				data: [
					[18.78, 22365],
					[49.26, 18271],
					[70.58, 20545],
					[75.67, 21806],
					[108.88, 19747],
					[123.31, 19464],
					[173.62, 16704],
					[206.54, 22272],
					[222.57, 22016],
					[278.52, 21543],
					[293.35, 22158],
					[310.46, 18038],
					[18.06, 25471],
					[53.06, 24878],
					[60.03, 24988],
					[86.35, 28373],
					[96.01, 27081],
					[122.11, 29482],
					[139.06, 28046],
					[160.23, 28709],
					[173.2, 26559],
					[192.45, 25877],
					[213.91, 28985],
					[237.83, 25649],
					[251.01, 24701],
					[294.77, 26801],
					[321.42, 28623],
					[368.52, 25779],
					[35.98, 34742],
					[51.11, 35219],
					[60.59, 34660],
					[93, 31721],
					[102.55, 35983],
					[114.76, 36250],
					[137.57, 36709],
					[159.87, 35029],
					[175.44, 33630],
					[194.76, 35942],
					[211.19, 35514],
					[235.4, 29737],
					[259.57, 36599],
					[273.19, 36166],
					[292.21, 31827],
					[314.01, 36624],
					[33.08, 43834],
					[49.68, 41265],
					[56.44, 40575],
					[89.91, 43600],
					[99.32, 38261],
					[124.73, 40087],
					[135.86, 41955],
					[160.24, 39004],
					[174.93, 40017],
					[191.01, 37747],
					[212.21, 42411],
					[239.96, 40007],
					[263.43, 37961],
					[272.85, 39216],
					[301.94, 42393],
					[306.66, 42393],
					[325.1, 38143],
					[367.31, 40293],
					[35.51, 50127],
					[52.56, 50419],
					[58.13, 44728],
					[87.47, 45730],
					[98.15, 45849],
					[119.63, 50155],
					[133.74, 48602],
					[158.83, 49739],
					[189.34, 44893],
					[195.8, 44434],
					[221.8, 47340],
					[241.67, 44690],
					[262.83, 49462],
					[274.51, 49179],
					[286.43, 48878],
					[327.27, 44306],
					[353.44, 45836],
					[32.18, 55000],
					[52.88, 55787],
					[63.18, 56189],
					[80.13, 53663],
					[98.23, 57010],
					[115.28, 55518],
					[147.18, 51502],
					[164.67, 54655],
					[184.44, 56930],
					[207.48, 55428],
					[209.73, 57217],
					[244.19, 53156],
					[252.61, 53838],
					[289.45, 55278],
					[304.91, 55755],
					[324.98, 52311],
					[390.44, 56347],
					[29.23, 62950],
					[45.64, 60912],
					[59.38, 61806],
					[83.05, 59603],
					[98.64, 59915],
					[119, 59412],
					[144.8, 59807],
					[164.17, 59999],
					[180.93, 60797],
					[192.1, 65591],
					[214.02, 59808],
					[242.89, 63815],
					[257.83, 62057],
					[271.32, 64500],
					[286.26, 59387],
					[311.95, 58664],
					[349.71, 65769],
					[367.19, 62638],
					[36.86, 69452],
					[43.12, 66095],
					[59.45, 68630],
					[84.07, 71370],
					[101.94, 70140],
					[127.82, 72759],
					[145.86, 68559],
					[158.42, 71645],
					[173.48, 69980],
					[204.47, 68470],
					[222.08, 69795],
					[238.05, 71414],
					[260.91, 70906],
					[281.02, 69391],
					[291.24, 68672],
					[310.35, 69599],
					[33.48, 74373],
					[47.54, 79933],
					[72.49, 76977],
					[93.86, 73301],
					[107.5, 77210],
					[129.64, 77137],
					[147.24, 73350],
					[169.6, 79953],
					[184.3, 73251],
					[190.32, 79866],
					[222.65, 77701],
					[238.03, 74781],
					[249.33, 80135],
					[270.93, 75666],
					[297.51, 73275],
					[305.37, 74991],
					[335.85, 77416],
					[357.76, 74911],
					[399.48, 75098],
					[35.81, 82380],
					[55, 80910],
					[67.59, 84924],
					[79.54, 82349],
					[107.81, 83481],
					[119.41, 82489],
					[151.18, 85991],
					[155.47, 84904],
					[185.05, 83762],
					[192.52, 80512],
					[225.74, 86383],
					[227.94, 85023],
					[247.11, 82960],
					[298.79, 86951],
					[26.86, 91214],
					[53.89, 90926],
					[73.9, 87957],
					[85.9, 92550],
					[103.41, 93802],
					[115.76, 90705],
					[145.83, 89008],
					[153.23, 93977],
					[186.99, 93588],
					[198.95, 90475],
					[217.24, 89763],
					[245.3, 89687],
				],
			},
		],
	};
	chart.setOption(option);
}
onMounted(() => {
	initChart();
});
getData();
</script>

<style scoped></style>
